/* src/components/CityAnimation.css */

:root {
  --c-main: hsla(0, 100%, 100%, .9);
  --c-secondary: #0f172a; 
  --c-accent: #0ea5e9; /* Sky Blue */
  --c-accent-dark: #0284c7;
  --c-trunk: #7c2d12;
  --bg-sky-top: #bae6fd;
  --bg-sky-bottom: #f0f9ff;
  --crane-height: 173px;
}

/* --- Layout & Atmosphere --- */
.city-container {
  width: 100%;
  height: 100vh;
  position: relative;
  overflow: hidden;
  /* Animated Day Sky */
  background: linear-gradient(to bottom, #38bdf8 0%, #bae6fd 40%, #e0f2fe 100%);
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  z-index: 1;
}

/* Rising Sun */
.sun {
  position: absolute;
  bottom: 20%;
  left: 50%;
  width: 150px;
  height: 150px;
  background: radial-gradient(circle, #fcd34d 20%, #fbbf24 100%);
  border-radius: 50%;
  box-shadow: 0 0 60px rgba(251, 191, 36, 0.6);
  transform: translateX(-50%);
  z-index: -1;
  animation: sun-rise 15s ease-out forwards;
}

/* Moving Clouds */
.cloud-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
  pointer-events: none;
}
.cloud {
  position: absolute;
  background: #fff;
  border-radius: 100px;
  opacity: 0.8;
  animation: move-cloud linear infinite;
}
.cloud::after, .cloud::before {
  content: '';
  position: absolute;
  background: inherit;
  border-radius: 50%;
}
.cloud-1 { width: 120px; height: 40px; top: 15%; left: -150px; animation-duration: 25s; }
.cloud-1::after { width: 50px; height: 50px; top: -25px; left: 20px; }
.cloud-1::before { width: 40px; height: 40px; top: -15px; left: 55px; }

.cloud-2 { width: 80px; height: 30px; top: 25%; left: -100px; animation-duration: 35s; animation-delay: 5s; opacity: 0.6; }
.cloud-2::after { width: 30px; height: 30px; top: -15px; left: 15px; }

.cloud-3 { width: 160px; height: 60px; top: 10%; left: -200px; animation-duration: 40s; animation-delay: 2s; }
.cloud-3::after { width: 70px; height: 70px; top: -35px; left: 25px; }
.cloud-3::before { width: 60px; height: 60px; top: -25px; left: 70px; }

/* --- Content Card (Glassmorphism) --- */
.advice {
  display: flex;
  height: 60vh; /* Moved up slightly */
  width: 100%;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  z-index: 50;
  position: relative;
}

.glass-card {
  background: rgba(255, 255, 255, 0.25);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.5);
  padding: 3rem 4rem;
  border-radius: 24px;
  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
  display: flex;
  flex-direction: column;
  align-items: center;
  animation: fade-in-up 1.5s ease-out;
}

/* Typing Effect */
.typing-text {
  overflow: hidden;
  border-right: .15em solid orange; 
  white-space: nowrap; 
  margin: 0 auto; 
  animation: 
    typing 3.5s steps(40, end),
    blink-caret .75s step-end infinite;
}

/* --- The City Floor --- */
.city-stuff {
  display: flex;
  position: absolute;
  justify-content: center;
  width: 100%;
  height: 100%;
  bottom: 0;
  overflow: hidden;
  box-shadow: inset 0 -40px 0 -10px #0284c7; /* Darker Blue Floor */
  pointer-events: none;
  z-index: 10;
}

/* --- Skyscrapers --- */
.skyscrappers__list { position: absolute; width: 100%; height: 86px; left: 0; bottom: 0; }
.skyscrapper__item {
  position: absolute; height: inherit; bottom: 15%; width: 43px;
  /* Updated Gradient for Ion Look */
  background: linear-gradient(180deg, var(--c-accent) 0%, #0369a1 100%);
  box-shadow: inset -5px 0 10px rgba(0,0,0,0.1);
}
.skyscrapper__item::after {
  content: ''; position: absolute; width: 80%; height: 80%; left: 10%; bottom: 10%;
  background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAFElEQVQImWP4////fwYYIJKDEwAAfPsP8eFXG40AAAAASUVORK5CYII=') space;
  opacity: 0.5; /* Subtle Windows */
}

/* Keep previous building positions/sizes */
.skyscrapper-1 { width: 121px; height: 138px; right: 25%; bottom: 0; z-index: 10; transform: rotate(180deg); }
.skyscrapper-2 { width: 60px; height: 69px; right: 35%; bottom: 10%; z-index: 10; transform: rotate(180deg); }
.skyscrapper-3 { width: 40px; height: 115px; right: 45%; bottom: 0; z-index: 10; transform: rotate(180deg); }
.skyscrapper-4 { width: 30px; height: 86px; right: 55%; bottom: 0; z-index: 10; transform: rotate(180deg); }
.skyscrapper-4::after { width: 20%; height: 60%; left: 25%; }
.skyscrapper-5 { width: 7%; height: 50%; right: 67%; bottom: 0; z-index: 11; transform: rotate(180deg); }
.skyscrapper-5::after { height: 0; }

/* --- Cranes (Refined Colors) --- */
.crane__list { position: absolute; width: 260px; height: 173px; bottom: 0; z-index: 0; perspective: 600px; }
.crane__item { position: absolute; border: solid 1px var(--c-accent-dark); border-radius: 2px; }
.crane-cable { width: 1px; height: 1px; border: none; background: var(--c-accent-dark); }
.crane-cable-1 { width: 60%; top: 0; left: 11%; transform-origin: right 0; animation: cable-1__movement 12s infinite alternate; }
.crane-cable-2 { width: 19%; top: 0; right: 8%; transform-origin: top left; animation: cable-2__movement 12s infinite alternate; }
.crane-cable-3 { height: 30%; top: 22%; left: 9%; transform-origin: right center; animation: cable-3__movement 12s ease-in-out infinite alternate; }
.crane-cable-3::after { content: ''; display: block; position: absolute; height: .2em; width: 9000%; bottom: 0; left: -4500%; background: #bae6fd; border: 1px solid var(--c-accent-dark); }
.crane-stand { width: 5%; height: 100%; right: 25%; z-index: 1; background: linear-gradient(to top, var(--c-accent-dark), var(--c-accent)); }
.crane-weight { width: 8%; height: 20%; right: 4%; top: 12%; z-index: 2; background: var(--c-accent); transform-origin: 0 center; animation: crane-weight__movement 12s infinite alternate; }
.crane-cabin { width: 12%; height: 9%; right: 24%; top: 20%; z-index: 2; background: var(--c-accent); transform-origin: 80% center; animation: crane__movement 12s infinite alternate; }
.crane-cabin::after { content: ''; display: block; position: absolute; width: 100%; height: 10%; top: 60%; left: 0; background: #fff; }
.crane-arm { width: 100%; height: 7%; top: 15%; border-top-left-radius: 10px; z-index: 3; background: var(--c-accent); transform-origin: 80% center; animation: crane__movement 12s infinite alternate; }

/* Crane Positioning */
.crane-1 { left: 20%; z-index: 10; }
.crane-2 { left: 30%; bottom: -1rem; z-index: -1; transform: scale(.75) scaleX(-1); opacity: 0.7; }
.crane-3 { left: 40%; bottom: -.5rem; transform: scale(.8); z-index: -1; opacity: 0.5; }
.crane-2 .crane-cable-3 { animation-delay: 3s; }
.crane-3 .crane-cable-3 { animation-delay: 4.5s; }

/* --- Trees --- */
.tree__container { position: absolute; width: 100%; height: 60px; left: 0; bottom: 0; margin-bottom: 4px; }
.tree__item { display: flex; flex-flow: column nowrap; position: absolute; justify-content: flex-end; align-items: center; }
.tree__trunk { order: 2; display: block; width: 4px; height: 8px; background: var(--c-trunk); border-radius: 2px; }
.tree__leaves { order: 1; position: relative; border-bottom: 32px solid #16a34a; /* Green */ border-left: 4px solid transparent; border-right: 4px solid transparent; }
.tree__leaves::after { content: ''; position: absolute; height: 100%; left: -4px; border-bottom: 32px solid #15803d; /* Dark Green */ border-left: 4px solid transparent; }

/* Tree Positioning */
.tree-1 { left: 66%; } .tree-2 { left: 67%; } .tree-3 { left: 54%; } .tree-4 { left: 55%; }
.tree-5 { left: 56%; } .tree-6 { left: 45%; } .tree-7 { left: 46%; } .tree-8 { left: 47%; }

/* --- New Keyframes --- */
@keyframes sun-rise { from { bottom: -150px; opacity: 0; } to { bottom: 20%; opacity: 1; } }
@keyframes move-cloud { from { left: -200px; } to { left: 100%; } }
@keyframes fade-in-up { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
@keyframes typing { from { width: 0 } to { width: 100% } }
@keyframes blink-caret { from, to { border-color: transparent } 50% { border-color: orange; } }

/* Existing Crane Keyframes */
@keyframes cable-1__movement { 0%, 20% { transform: rotateY(0) rotateZ(-10deg); } 70%, 100% { transform: rotateY(45deg) rotateZ(-10deg); } }
@keyframes cable-2__movement { 0%, 20% { transform: rotateY(0) rotateZ(29deg); } 70%, 100% { transform: rotateY(15deg) rotateZ(29deg); } }
@keyframes cable-3__movement { 0% { transform: translate(0, 0); } 20% { transform: translate(2500%, -18%); } 60% { transform: translate(11000%, -25%); } 70% { height: 30%; transform: translate(9100%, -25%); } 90%, 100% { height: 80%; transform: translate(9100%, -15%); } }
@keyframes crane__movement { 0%, 20% { transform: rotateY(0); } 70%, 100% { transform: rotateY(45deg); } }
@keyframes crane-weight__movement { 0%, 20% { transform: rotateY(0) translateX(0); } 70%, 100% { transform: rotateY(45deg) translateX(-50%); } }

@media screen and (max-width: 768px) {
  .skyscrapper-2, .skyscrapper-3, .crane-2, .crane-3, .tree-1, .tree-2 { display: none; }
  .advice__title { font-size: 2rem; }
  .glass-card { padding: 2rem; width: 90%; }
}